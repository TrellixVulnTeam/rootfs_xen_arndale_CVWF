<html><head><title>Lintian::Path</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" >
<link rel="stylesheet" title="blkbluw" type="text/css" href="../_blkbluw.css" media="all" >
<link rel="alternate stylesheet" title="blkmagw" type="text/css" href="../_blkmagw.css" media="all" >
<link rel="alternate stylesheet" title="blkcynw" type="text/css" href="../_blkcynw.css" media="all" >
<link rel="alternate stylesheet" title="whtprpk" type="text/css" href="../_whtprpk.css" media="all" >
<link rel="alternate stylesheet" title="whtnavk" type="text/css" href="../_whtnavk.css" media="all" >
<link rel="alternate stylesheet" title="grygrnk" type="text/css" href="../_grygrnk.css" media="all" >
<link rel="alternate stylesheet" title="whtgrng" type="text/css" href="../_whtgrng.css" media="all" >
<link rel="alternate stylesheet" title="blkgrng" type="text/css" href="../_blkgrng.css" media="all" >
<link rel="alternate stylesheet" title="grygrnw" type="text/css" href="../_grygrnw.css" media="all" >
<link rel="alternate stylesheet" title="blkbluw" type="text/css" href="../_blkbluw.css" media="all" >
<link rel="alternate stylesheet" title="whtpurk" type="text/css" href="../_whtpurk.css" media="all" >
<link rel="alternate stylesheet" title="whtgrng" type="text/css" href="../_whtgrng.css" media="all" >
<link rel="alternate stylesheet" title="grygrnw" type="text/css" href="../_grygrnw.css" media="all" >

<script type="text/javascript" src="../_podly.js"></script>

</head>
<body class='pod'>
<!--
  generated by Pod::Simple::HTML v3.28,
  using Pod::Simple::PullParser v3.28,
  under Perl v5.020001 at Mon Oct 20 16:02:28 2014 GMT.

 If you want to change this HTML document, you probably shouldn't do that
   by changing it directly.  Instead, see about changing the calling options
   to Pod::Simple::HTML, and/or subclassing Pod::Simple::HTML,
   then reconverting this document from the Pod source.
   When in doubt, email the author of Pod::Simple::HTML for advice.
   See 'perldoc Pod::Simple::HTML' for more info.

-->

<!-- start doc -->
<p class="backlinktop"><b><a name="___top" href="../index.html" accesskey="1" title="All Documents">&lt;&lt;</a></b></p>

<div class='indexgroup'>
<ul   class='indexList indexList1'>
  <li class='indexItem indexItem1'><a href='#NAME'>NAME</a>
  <li class='indexItem indexItem1'><a href='#SYNOPSIS'>SYNOPSIS</a>
  <li class='indexItem indexItem1'><a href='#INSTANCE_METHODS'>INSTANCE METHODS</a>
  <li class='indexItem indexItem1'><a href='#AUTHOR'>AUTHOR</a>
  <li class='indexItem indexItem1'><a href='#SEE_ALSO'>SEE ALSO</a>
</ul>
</div>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="NAME"
>NAME</a></h1>

<p>Lintian::Path - Lintian representation of a path entry in a package</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="SYNOPSIS"
>SYNOPSIS</a></h1>

<pre>    my ($name, $type, $dir) = (&#39;lintian&#39;, &#39;source&#39;, &#39;/path/to/entry&#39;);
    my $info = Lintian::Collect-&#62;new ($name, $type, $dir);
    my $path = $info-&#62;index(&#39;bin/ls&#39;);
    if ($path-&#62;is_file) {
       # is file (or hardlink)
       if ($path-&#62;is_hardlink) { }
       if ($path-&#62;is_regular_file) { }
    } elsif ($path-&#62;is_dir) {
       # is dir
       if ($path-&#62;owner eq &#39;root&#39;) { }
       if ($path-&#62;group eq &#39;root&#39;) { }
    } elsif ($path-&#62;is_symlink) {
       my $normalized = $path-&#62;link_normalized;
       if (defined($normalized)) {
           my $more_info = $info-&#62;index($normalized);
           if (defined($more_info)) {
               # target exists in the package...
           }
       }
    }</pre>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="INSTANCE_METHODS"
>INSTANCE METHODS</a></h1>

<dl>
<dt><a name="Lintian::Path-&#62;new_($data)"
>Lintian::Path-&#62;new ($data)</a></dt>

<dd>
<p>Internal constructor (used by Lintian::Collect::Package).</p>

<p>Argument is a hash containing the data read from the index file.</p>

<dt><a name="name"
>name</a></dt>

<dd>
<p>Returns the name of the file (relative to the package root).</p>

<p>NB: It will never have any leading &#34;./&#34; (or &#34;/&#34;) in it.</p>

<dt><a name="owner"
>owner</a></dt>

<dd>
<p>Returns the owner of the path entry as a username.</p>

<p>NB: If only numerical owner information is available in the package, this may return a numerical owner (except uid 0 is always mapped to &#34;root&#34;)</p>

<dt><a name="group"
>group</a></dt>

<dd>
<p>Returns the group of the path entry as a username.</p>

<p>NB: If only numerical owner information is available in the package, this may return a numerical group (except gid 0 is always mapped to &#34;root&#34;)</p>

<dt><a name="uid"
>uid</a></dt>

<dd>
<p>Returns the uid of the owner of the path entry.</p>

<p>NB: If the uid is not available, undef will be returned. This usually happens if the numerical data is not collected (e.g. in source packages)</p>

<dt><a name="gid"
>gid</a></dt>

<dd>
<p>Returns the gid of the owner of the path entry.</p>

<p>NB: If the gid is not available, undef will be returned. This usually happens if the numerical data is not collected (e.g. in source packages)</p>

<dt><a name="link"
>link</a></dt>

<dd>
<p>If this is a link (i.e. is_symlink or is_hardlink returns a truth value), this method returns the target of the link.</p>

<p>If this is not a link, then this returns undef.</p>

<p>If the path is a symlink this method can be used to determine if the symlink is relative or absolute. This is <i>not</i> true for hardlinks, where the link target is always relative to the root.</p>

<p>NB: Even for symlinks, a leading &#34;./&#34; will be stripped.</p>

<dt><a name="size"
>size</a></dt>

<dd>
<p>Returns the size of the path in bytes.</p>

<p>NB: This is only well defined for files.</p>

<dt><a name="date"
>date</a></dt>

<dd>
<p>Return the modification date as YYYY-MM-DD.</p>

<dt><a name="operm"
>operm</a></dt>

<dd>
<p>Returns the file permissions of this object in octal (e.g. 0644).</p>

<p>NB: This is only well defined for file entries that are subject to permissions (e.g. files). Particularly, the value is not well defined for symlinks.</p>

<dt><a name="dirname"
>dirname</a></dt>

<dd>
<p>Returns the &#34;directory&#34; part of the name, similar to dirname(1) or File::Basename::dirname. The dirname will end with a trailing slash (except the &#34;root&#34; dir - see below).</p>

<p>NB: Returns the empty string for the &#34;root&#34; dir.</p>

<dt><a name="basename"
>basename</a></dt>

<dd>
<p>Returns the &#34;filename&#34; part of the name, similar basename(1) or File::Basename::basename (without passing a suffix to strip in either case). For dirs, the basename will end with a trailing slash (except for the &#34;root&#34; dir - see below).</p>

<p>NB: Returns the empty string for the &#34;root&#34; dir.</p>

<dt><a name="children"
>children</a></dt>

<dd>
<p>Returns a list of children (as Lintian::Path objects) of this entry. The list and its contents should not be modified.</p>

<p>NB: Returns the empty list for non-dir entries.</p>

<dt><a name="is_symlink"
>is_symlink</a></dt>

<dd>
<p>Returns a truth value if this entry is a symlink.</p>

<dt><a name="is_hardlink"
>is_hardlink</a></dt>

<dd>
<p>Returns a truth value if this entry is a hardlink to a regular file.</p>

<p>NB: The target of a hardlink is always a regular file (and not a dir etc.).</p>

<dt><a name="is_dir"
>is_dir</a></dt>

<dd>
<p>Returns a truth value if this entry is a dir.</p>

<p>NB: Unlike the &#34;-d $dir&#34; operator this will never return true for symlinks, even if the symlink points to a dir.</p>

<dt><a name="is_file"
>is_file</a></dt>

<dd>
<p>Returns a truth value if this entry is a regular file (or a hardlink to one).</p>

<p>NB: Unlike the &#34;-f $dir&#34; operator this will never return true for symlinks, even if the symlink points to a file (or hardlink).</p>

<dt><a name="is_regular_file"
>is_regular_file</a></dt>

<dd>
<p>Returns a truth value if this entry is a regular file.</p>

<p>This is eqv. to $path-&#62;is_file and not $path-&#62;is_hardlink.</p>

<p>NB: Unlike the &#34;-f $dir&#34; operator this will never return true for symlinks, even if the symlink points to a file.</p>

<dt><a name="link_normalized"
>link_normalized</a></dt>

<dd>
<p>Returns the target of the link normalized against it&#39;s directory name. If the link cannot be normalized or normalized path might escape the package root, this method returns <code>undef</code>.</p>

<p>NB: This method will return the empty string for links pointing to the root dir of the package.</p>

<p>Only available on &#34;links&#34; (i.e. symlinks or hardlinks). On non-links this will croak.</p>

<p><b>CAVEAT</b>: This method is <i>not always sufficient</i> to test if it is safe to open a given symlink. Use <a href="../Lintian/Util.html#is_ancestor_of(PARENTDIR%2C_PATH)" class="podlinkpod"
>is_ancestor_of</a> for that. If you must use this method, remember to check that the target is not a symlink (or if it is, that it can be resolved safely).</p>
</dd>
</dl>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="AUTHOR"
>AUTHOR</a></h1>

<p>Originally written by Niels Thykier &#60;niels@thykier.net&#62; for Lintian.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="SEE_ALSO"
>SEE ALSO</a></h1>

<p>lintian(1), Lintian::Collect(3), Lintian::Collect::Binary(3), Lintian::Collect::Source(3)</p>
<p class="backlinkbottom"><b><a name="___bottom" href="../index.html" title="All Documents">&lt;&lt;</a></b></p>

<!-- end doc -->

</body></html>
